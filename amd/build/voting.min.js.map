{"version":3,"file":"voting.min.js","sources":["../src/voting.js"],"sourcesContent":["export const init = (courses) => {\n    var course_selects = document.querySelectorAll(\n        '[data-element=\"voting_course_select\"]'\n    );\n\n    for (let i = 0; i < course_selects.length; i++) {\n        course_selects[i].addEventListener('change', (event) =>\n            populate_sections(event, courses)\n        );\n    }\n};\n\nconst populate_sections = (event, courses) => {\n    var course_id = event.target.value;\n    var dropdowns = document.querySelectorAll(\n        '[data-element=\"voting_course_sections\"]'\n    );\n\n    clearOptions(dropdowns);\n\n    for (var course of courses) {\n        if (course.id == 0) {\n            break;\n        }\n        if (course.id == course_id) {\n            for (var dropdown of dropdowns) {\n                for (var section of course.sections) {\n                    var el = document.createElement('option');\n                    el.text = section.name;\n                    el.value = section.id;\n                    dropdown.add(el);\n                }\n            }\n        }\n    }\n};\n\nconst clearOptions = (dropdowns) => {\n    for (var dropdown of dropdowns) {\n        for (var option of dropdown.options) {\n            dropdown.options.remove(option);\n        }\n    }\n};\n"],"names":["_exports","init","courses","course_selects","document","querySelectorAll","i","length","addEventListener","event","populate_sections","course_id","target","value","dropdowns","clearOptions","_step","_iterator","_createForOfIteratorHelper","s","n","done","course","id","_step2","_iterator2","_step3","dropdown","_iterator3","sections","section","el","createElement","text","name","add","err","e","f","_step4","_iterator4","_step5","_iterator5","options","option","remove"],"mappings":"64CAUEA,SAAAC,KAVkB,SAACC,SAKjB,IAJA,IAAIC,eAAiBC,SAASC,iBAC1B,yCAGKC,EAAI,EAAGA,EAAIH,eAAeI,OAAQD,IACvCH,eAAeG,GAAGE,iBAAiB,UAAU,SAACC,OAAK,OAC/CC,kBAAkBD,MAAOP,QAAQ,KAK7C,IAAMQ,kBAAoB,SAACD,MAAOP,SAC9B,IAAIS,UAAYF,MAAMG,OAAOC,MACzBC,UAAYV,SAASC,iBACrB,2CAGJU,aAAaD,WAAW,IAEEE,MAFFC,UAAAC,2BAELhB,SAAO,IAA1B,IAAAe,UAAAE,MAAAH,MAAAC,UAAAG,KAAAC,MAA4B,CAAA,IAAnBC,OAAMN,MAAAH,MACX,GAAiB,GAAbS,OAAOC,GACP,MAEJ,GAAID,OAAOC,IAAMZ,UAAW,CAAA,IACMa,OADNC,WAAAP,2BACHJ,WAAS,IAA9B,IAAAW,WAAAN,MAAAK,OAAAC,WAAAL,KAAAC,MAAgC,CAAA,IACOK,OAD9BC,SAAQH,OAAAX,MAAAe,WAAAV,2BACOI,OAAOO,UAAQ,IAAnC,IAAAD,WAAAT,MAAAO,OAAAE,WAAAR,KAAAC,MAAqC,CAAA,IAA5BS,QAAOJ,OAAAb,MACRkB,GAAK3B,SAAS4B,cAAc,UAChCD,GAAGE,KAAOH,QAAQI,KAClBH,GAAGlB,MAAQiB,QAAQP,GACnBI,SAASQ,IAAIJ,GACjB,CAAC,CAAA,MAAAK,KAAAR,WAAAS,EAAAD,IAAA,CAAA,QAAAR,WAAAU,GAAA,CACL,CAAC,CAAA,MAAAF,KAAAX,WAAAY,EAAAD,IAAA,CAAA,QAAAX,WAAAa,GAAA,CACL,CACJ,CAAC,CAAA,MAAAF,KAAAnB,UAAAoB,EAAAD,IAAA,CAAA,QAAAnB,UAAAqB,GAAA,GAGCvB,aAAe,SAACD,WAAc,IACFyB,OADEC,WAAAtB,2BACXJ,WAAS,IAA9B,IAAA0B,WAAArB,MAAAoB,OAAAC,WAAApB,KAAAC,MAAgC,CAAA,IACOoB,OAD9Bd,SAAQY,OAAA1B,MAAA6B,WAAAxB,2BACMS,SAASgB,SAAO,IAAnC,IAAAD,WAAAvB,MAAAsB,OAAAC,WAAAtB,KAAAC,MAAqC,CAAA,IAA5BuB,OAAMH,OAAA5B,MACXc,SAASgB,QAAQE,OAAOD,OAC5B,CAAC,CAAA,MAAAR,KAAAM,WAAAL,EAAAD,IAAA,CAAA,QAAAM,WAAAJ,GAAA,CACL,CAAC,CAAA,MAAAF,KAAAI,WAAAH,EAAAD,IAAA,CAAA,QAAAI,WAAAF,GAAA,EACH"}