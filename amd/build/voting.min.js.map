{"version":3,"file":"voting.min.js","sources":["../src/voting.js"],"sourcesContent":["export const init = (courses) => {\n    var course_selects = document.querySelectorAll(\n        '[data-element=\"voting_course_select\"]'\n    );\n\n    for (let i = 0; i < course_selects.length; i++) {\n        course_selects[i].addEventListener('change', (event) =>\n            populate_sections(event, courses)\n        );\n    }\n};\n\nconst populate_sections = (event, courses) => {\n    var course_id = event.target.value;\n    var dropdowns = document.querySelectorAll(\n        '[data-element=\"voting_course_sections\"]'\n    );\n\n    clearOptions(dropdowns);\n\n    for (var course of courses) {\n        if (course.id == 0) {\n            break;\n        }\n        if (course.id == course_id) {\n            for (var dropdown of dropdowns) {\n                for (var section of course.sections) {\n                    var el = document.createElement('option');\n                    el.text = section.name;\n                    el.value = section.id;\n                    dropdown.add(el);\n                }\n            }\n        }\n    }\n};\n\nconst clearOptions = (dropdowns) => {\n    for (var dropdown of dropdowns) {\n        for (var option of dropdown.options) {\n            dropdown.options.remove(option);\n        }\n    }\n};\n"],"names":["courses","course_selects","document","querySelectorAll","i","length","addEventListener","event","populate_sections","course_id","target","value","dropdowns","course","clearOptions","id","dropdown","section","sections","el","createElement","text","name","add","option","options","remove"],"mappings":"6JAAqBA,cACbC,eAAiBC,SAASC,iBAC1B,6CAGC,IAAIC,EAAI,EAAGA,EAAIH,eAAeI,OAAQD,IACvCH,eAAeG,GAAGE,iBAAiB,UAAWC,OAC1CC,kBAAkBD,MAAOP,kBAK/BQ,kBAAoB,CAACD,MAAOP,eAC1BS,UAAYF,MAAMG,OAAOC,MACzBC,UAAYV,SAASC,iBACrB,+CAKC,IAAIU,UAFTC,aAAaF,WAEMZ,SAAS,IACP,GAAba,OAAOE,YAGPF,OAAOE,IAAMN,cACR,IAAIO,YAAYJ,cACZ,IAAIK,WAAWJ,OAAOK,SAAU,KAC7BC,GAAKjB,SAASkB,cAAc,UAChCD,GAAGE,KAAOJ,QAAQK,KAClBH,GAAGR,MAAQM,QAAQF,GACnBC,SAASO,IAAIJ,OAO3BL,aAAgBF,gBACb,IAAII,YAAYJ,cACZ,IAAIY,UAAUR,SAASS,QACxBT,SAASS,QAAQC,OAAOF"}