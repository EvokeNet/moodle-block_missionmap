{"version":3,"file":"randomizer.min.js","sources":["../src/randomizer.js"],"sourcesContent":["export const init = () => {\n    const screen_size = window.screen.width;\n    const map_image = document.querySelector('img');\n\n    if (screen_size <= 600) {\n        return;\n    }\n\n    if (map_image.complete) {\n        randomize();\n    } else {\n        map_image.addEventListener('load', randomize());\n        map_image.addEventListener('error', () => {\n            window.console.log('Error while randomizing missions on the map');\n        });\n    }\n};\n\nconst randomize = () => {\n    const chapters = document.querySelectorAll('.chapter');\n\n    const seed = xmur3('avocadotoast');\n    const rand = sfc32(seed(), seed(), seed(), seed());\n\n    for (let i = 0; i < chapters.length; i++) {\n        let chapter_width = chapters[i].offsetWidth;\n        let chapter_height = chapters[i].offsetHeight;\n        let missions = chapters[i].querySelectorAll('.mission');\n\n        let division = chapter_width / missions.length;\n\n        let perc_division = division / chapter_width;\n        let offsetLeft = 0.05;\n\n        for (let j = 0; j < missions.length; j++) {\n            let mission_height = missions[j].offsetHeight;\n            let height_discount = mission_height / chapter_height;\n\n            let posx = offsetLeft * 100;\n            var posy = (rand() * (1 - height_discount) * 100).toFixed();\n\n            missions[j].style.left = `${posx}%`;\n            missions[j].style.top = `${posy}%`;\n            missions[j].style.transform = `translate(-${posx}%, -${posy}%)`;\n            offsetLeft += perc_division;\n        }\n    }\n};\n\n/* eslint-disable */\nconst xmur3 = (str) => {\n    for (var i = 0, h = 1779033703 ^ str.length; i < str.length; i++)\n        (h = Math.imul(h ^ str.charCodeAt(i), 3432918353)),\n            (h = (h << 13) | (h >>> 19));\n    return function () {\n        h = Math.imul(h ^ (h >>> 16), 2246822507);\n        h = Math.imul(h ^ (h >>> 13), 3266489909);\n        return (h ^= h >>> 16) >>> 0;\n    };\n};\n\nconst sfc32 = (a, b, c, d) => {\n    return function () {\n        a >>>= 0;\n        b >>>= 0;\n        c >>>= 0;\n        d >>>= 0;\n        var t = (a + b) | 0;\n        a = b ^ (b >>> 9);\n        b = (c + (c << 3)) | 0;\n        c = (c << 21) | (c >>> 11);\n        d = (d + 1) | 0;\n        t = (t + d) | 0;\n        c = (c + t) | 0;\n        return (t >>> 0) / 4294967296;\n    };\n};\n"],"names":["_exports","init","screen_size","window","screen","width","map_image","document","querySelector","complete","randomize","addEventListener","console","log","chapters","querySelectorAll","seed","xmur3","rand","sfc32","i","length","chapter_width","offsetWidth","chapter_height","offsetHeight","missions","perc_division","offsetLeft","j","height_discount","posx","posy","toFixed","style","left","concat","top","transform","str","h","Math","imul","charCodeAt","a","b","c","d","t"],"mappings":"mJAgBEA,SAAAC,KAhBkB,WAChB,IAAMC,YAAcC,OAAOC,OAAOC,MAC5BC,UAAYC,SAASC,cAAc,OAErCN,aAAe,MAIfI,UAAUG,SACVC,aAEAJ,UAAUK,iBAAiB,OAAQD,aACnCJ,UAAUK,iBAAiB,SAAS,WAChCR,OAAOS,QAAQC,IAAI,8CACvB,OAIR,IAAMH,UAAY,WAMd,IALA,IAAMI,SAAWP,SAASQ,iBAAiB,YAErCC,KAAOC,MAAM,gBACbC,KAAOC,MAAMH,OAAQA,OAAQA,OAAQA,QAElCI,EAAI,EAAGA,EAAIN,SAASO,OAAQD,IAUjC,IATA,IAAIE,cAAgBR,SAASM,GAAGG,YAC5BC,eAAiBV,SAASM,GAAGK,aAC7BC,SAAWZ,SAASM,GAAGL,iBAAiB,YAIxCY,cAFWL,cAAgBI,SAASL,OAETC,cAC3BM,WAAa,IAERC,EAAI,EAAGA,EAAIH,SAASL,OAAQQ,IAAK,CACtC,IACIC,gBADiBJ,SAASG,GAAGJ,aACMD,eAEnCO,KAAoB,IAAbH,WACPI,MAAQd,QAAU,EAAIY,iBAAmB,KAAKG,UAElDP,SAASG,GAAGK,MAAMC,KAAIC,GAAAA,OAAML,KAAO,KACnCL,SAASG,GAAGK,MAAMG,IAAGD,GAAAA,OAAMJ,KAAO,KAClCN,SAASG,GAAGK,MAAMI,UAASF,cAAAA,OAAiBL,KAAI,QAAAK,OAAOJ,KAAQ,MAC/DJ,YAAcD,aAClB,GAKFV,MAAQ,SAACsB,KACX,IAAK,IAAInB,EAAI,EAAGoB,EAAI,WAAaD,IAAIlB,OAAQD,EAAImB,IAAIlB,OAAQD,IAEpDoB,GADJA,EAAIC,KAAKC,KAAKF,EAAID,IAAII,WAAWvB,GAAI,cACvB,GAAOoB,IAAM,GAChC,OAAO,WAGH,OAFAA,EAAIC,KAAKC,KAAKF,EAAKA,IAAM,GAAK,YAC9BA,EAAIC,KAAKC,KAAKF,EAAKA,IAAM,GAAK,aACtBA,GAAKA,IAAM,MAAQ,IAI7BrB,MAAQ,SAACyB,EAAGC,EAAGC,EAAGC,GACpB,OAAO,WAKH,IAAIC,GAJJJ,KAAO,IACPC,KAAO,GAGW,EAOlB,OANAD,EAAIC,EAAKA,IAAM,EACfA,GAJAC,KAAO,IAIGA,GAAK,GAAM,EAIrBA,GAHAA,EAAKA,GAAK,GAAOA,IAAM,KAEvBE,EAAKA,GADLD,GALAA,KAAO,GAKE,EAAK,GACA,GACA,GACNC,IAAM,GAAK,YAEzB"}