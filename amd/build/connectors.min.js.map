{"version":3,"sources":["../src/connectors.js"],"names":["init","chapters","document","querySelectorAll","chapter","missions","curves","chapter_width","offsetWidth","chapter_height","offsetHeight","division","length","offsetLeft","m_no","height_add","i","mission_width","mission_height","style","top","left","transform","curve","connect","from","to","start","x","y","offsetTop","middle_1","end","middle_2","setAttribute"],"mappings":"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","sourcesContent":["export const init = () => {\n    const chapters = document.querySelectorAll('.chapter');\n\n    for (var chapter of chapters) {\n        const missions = chapter.querySelectorAll('.mission');\n        const curves = chapter.querySelectorAll('.curve');\n\n        const chapter_width = chapter.offsetWidth;\n        const chapter_height = chapter.offsetHeight;\n        const division = chapter_width / missions.length;\n        const offsetLeft = division / 2;\n        const offsetHeight = chapter_height / 2;\n\n        const m_no = missions.length;\n        const height_step = chapter_height / (m_no * 1.5);\n        let height_add = 0;\n\n        for (var i = 0; i < m_no; i++) {\n            const mission_width = missions[i].offsetWidth;\n            const mission_height = missions[i].offsetHeight;\n            missions[i].style.top =\n                offsetHeight + mission_height + height_add + 'px';\n            missions[i].style.left = offsetLeft - mission_width / 2 + 'px';\n            missions[i].style.transform = `rotate(-15deg)`;\n            offsetLeft += division;\n            height_add -= height_step;\n        }\n\n        for (var i = 0; i < missions.length; i++) {\n            var curve = curves[i];\n            if (i == missions.length - 1) {\n                break;\n            }\n            connect(missions[i], missions[i + 1], curve);\n        }\n    }\n};\n\nconst connect = (from, to, curve) => {\n    const start = {\n        x: from.offsetLeft + from.offsetWidth / 2,\n        y: from.offsetTop - from.offsetHeight / 2,\n    };\n\n    const middle_1 = {\n        x: start.x,\n        y: start.y - 20,\n    };\n\n    const end = {\n        x: to.offsetLeft + to.offsetWidth / 2,\n        y: to.offsetTop - to.offsetHeight / 2,\n    };\n\n    const middle_2 = {\n        x: end.x - 60,\n        y: middle_1.y,\n    };\n\n    curve.setAttribute(\n        'd',\n        `M${start.x},${start.y} C${middle_1.x},${middle_1.y} ${middle_2.x},${middle_2.y} ${end.x},${end.y}`\n    );\n};\n"],"file":"connectors.min.js"}