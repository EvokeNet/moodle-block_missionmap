{"version":3,"sources":["../src/mission_map.js"],"names":["init","courses","is_editing","selected_course","campaign_select","document","getElementById","dropdowns","querySelectorAll","dropdown","disabled","selected","clearOptions","addOptions","addEventListener","e","course_id","target","value","options","length","remove","course","id","sections","section","el","createElement","text","name","no","add"],"mappings":"yoCAAoB,QAAPA,CAAAA,IAAO,CAACC,CAAD,CAAUC,CAAV,CAAsBC,CAAtB,CAA0C,IACpDC,CAAAA,CAAe,CAAGC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CADkC,CAEpDC,CAAS,CAAGF,QAAQ,CAACG,gBAAT,CAA0B,wBAA1B,CAFwC,CAI1D,GAAI,CAACN,CAAL,CAAiB,SACQK,CADR,QACb,2BAAgC,IAAvBE,CAAAA,CAAuB,SAC5BA,CAAQ,CAACC,QAAT,GACH,CAHY,+BAIhB,CAJD,IAIO,CACHN,CAAe,CAACO,QAAhB,CAA2BR,CAA3B,CACAS,CAAY,GACZC,CAAU,CAACV,CAAD,CAAkBF,CAAlB,CAA2BM,CAA3B,CAAsCL,CAAtC,CACb,CAEDE,CAAe,CAACU,gBAAhB,CAAiC,QAAjC,CAA2C,SAACC,CAAD,CAAO,CAC9C,GAAIC,CAAAA,CAAS,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAzB,CAEAN,CAAY,GACZC,CAAU,CAACG,CAAD,CAAYf,CAAZ,CAAqBM,CAArB,CAAV,CAEAA,CAAS,CAACG,QAAV,GACH,CAPD,CAQH,C,IAEKE,CAAAA,CAAY,CAAG,UAAM,IACnBL,CAAAA,CAAS,CAAGF,QAAQ,CAACG,gBAAT,CAA0B,wBAA1B,CADO,KAEFD,CAFE,QAEvB,2BAAgC,IAAvBE,CAAAA,CAAuB,SAC5B,MAAiC,CAA1B,CAAAA,CAAQ,CAACU,OAAT,CAAiBC,MAAxB,CAAoC,CAChCX,CAAQ,CAACY,MAAT,CAAgB,CAAhB,CACH,CACDZ,CAAQ,CAACC,QAAT,GACH,CAPsB,+BAQ1B,C,CAEKG,CAAU,CAAG,SAACG,CAAD,CAAYf,CAAZ,CAAqBM,CAArB,CAAgCL,CAAhC,CAA+C,SAC3CD,CAD2C,QAC9D,2BAA4B,IAAnBqB,CAAAA,CAAmB,SACxB,GAAiB,CAAb,EAAAA,CAAM,CAACC,EAAX,CAAoB,CAChB,KACH,CACD,GAAID,CAAM,CAACC,EAAP,EAAaP,CAAjB,CAA4B,SACHT,CADG,QACxB,2BAAgC,IAAvBE,CAAAA,CAAuB,aACRa,CAAM,CAACE,QADC,QAC5B,2BAAqC,IAA5BC,CAAAA,CAA4B,SAC7BC,CAAE,CAAGrB,QAAQ,CAACsB,aAAT,CAAuB,QAAvB,CADwB,CAEjCD,CAAE,CAACE,IAAH,CACqB,IAAjB,GAAAH,CAAO,CAACI,IAAR,EAAyC,EAAhB,EAAAJ,CAAO,CAACI,IAAjC,CACMJ,CAAO,CAACI,IADd,CAEM,WAAaJ,CAAO,CAACK,EAH/B,CAIAJ,CAAE,CAACR,KAAH,CAAWO,CAAO,CAACF,EAAnB,CACA,GAAIrB,CAAJ,CAAgB,CACZwB,CAAE,CAACf,QAAH,GACH,CACDF,CAAQ,CAACsB,GAAT,CAAaL,CAAb,CACH,CAZ2B,+BAa/B,CAduB,+BAe3B,CACJ,CArB6D,+BAsBjE,C","sourcesContent":["export const init = (courses, is_editing, selected_course) => {\n    const campaign_select = document.getElementById('campaign_select');\n    const dropdowns = document.querySelectorAll(\"[data-type='sections']\");\n\n    if (!is_editing) {\n        for (var dropdown of dropdowns) {\n            dropdown.disabled = true;\n        }\n    } else {\n        campaign_select.selected = selected_course;\n        clearOptions();\n        addOptions(selected_course, courses, dropdowns, is_editing);\n    }\n\n    campaign_select.addEventListener('change', (e) => {\n        var course_id = e.target.value;\n\n        clearOptions();\n        addOptions(course_id, courses, dropdowns);\n\n        dropdowns.disabled = false;\n    });\n};\n\nconst clearOptions = () => {\n    var dropdowns = document.querySelectorAll(\"[data-type='sections']\");\n    for (var dropdown of dropdowns) {\n        while (dropdown.options.length > 0) {\n            dropdown.remove(0);\n        }\n        dropdown.disabled = false;\n    }\n};\n\nconst addOptions = (course_id, courses, dropdowns, is_editing) => {\n    for (var course of courses) {\n        if (course.id == 0) {\n            break;\n        }\n        if (course.id == course_id) {\n            for (var dropdown of dropdowns) {\n                for (var section of course.sections) {\n                    var el = document.createElement('option');\n                    el.text =\n                        section.name !== null || section.name == ''\n                            ? section.name\n                            : 'Mission ' + section.no;\n                    el.value = section.id;\n                    if (is_editing) {\n                        el.selected = true;\n                    }\n                    dropdown.add(el);\n                }\n            }\n        }\n    }\n};\n"],"file":"mission_map.min.js"}