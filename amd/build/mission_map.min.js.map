{"version":3,"sources":["../src/mission_map.js"],"names":["init","courses","campaign_select","document","getElementById","dropdowns","querySelectorAll","dropdown","disabled","addEventListener","e","course_id","target","value","clearOptions","course","id","sections","section","el","createElement","text","name","no","add","options","length","remove"],"mappings":"yoCAEoB,QAAPA,CAAAA,IAAO,CAACC,CAAD,CAAa,IACzBC,CAAAA,CAAe,CAAGC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CADO,CAEzBC,CAAS,CAAGF,QAAQ,CAACG,gBAAT,CAA0B,wBAA1B,CAFa,KAIRD,CAJQ,QAI7B,2BAAgC,IAAvBE,CAAAA,CAAuB,SAC5BA,CAAQ,CAACC,QAAT,GACH,CAN4B,+BAQ7BN,CAAe,CAACO,gBAAhB,CAAiC,QAAjC,CAA2C,SAACC,CAAD,CAAO,CAC9C,GAAIC,CAAAA,CAAS,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAzB,CAEAC,CAAY,GAHkC,QAI3Bb,CAJ2B,QAI9C,2BAA4B,IAAnBc,CAAAA,CAAmB,SACxB,GAAiB,CAAb,EAAAA,CAAM,CAACC,EAAX,CAAoB,CAChB,KACH,CACD,GAAID,CAAM,CAACC,EAAP,EAAaL,CAAjB,CAA4B,SACHN,CADG,QACxB,2BAAgC,IAAvBE,CAAAA,CAAuB,aACRQ,CAAM,CAACE,QADC,QAC5B,2BAAqC,IAA5BC,CAAAA,CAA4B,SAC7BC,CAAE,CAAGhB,QAAQ,CAACiB,aAAT,CAAuB,QAAvB,CADwB,CAEjCD,CAAE,CAACE,IAAH,CACqB,IAAjB,GAAAH,CAAO,CAACI,IAAR,EAAyC,EAAhB,EAAAJ,CAAO,CAACI,IAAjC,CACMJ,CAAO,CAACI,IADd,CAEM,WAAaJ,CAAO,CAACK,EAH/B,CAIAJ,CAAE,CAACN,KAAH,CAAWK,CAAO,CAACF,EAAnB,CACAT,CAAQ,CAACiB,GAAT,CAAaL,CAAb,CACH,CAT2B,+BAU/B,CAXuB,+BAY3B,CACJ,CArB6C,+BAsB9Cd,CAAS,CAACG,QAAV,GACH,CAvBD,CAwBH,C,CAED,GAAMM,CAAAA,CAAY,CAAG,UAAM,IACnBT,CAAAA,CAAS,CAAGF,QAAQ,CAACG,gBAAT,CAA0B,wBAA1B,CADO,KAEFD,CAFE,QAEvB,2BAAgC,IAAvBE,CAAAA,CAAuB,SAC5B,MAAiC,CAA1B,CAAAA,CAAQ,CAACkB,OAAT,CAAiBC,MAAxB,CAAoC,CAChCnB,CAAQ,CAACoB,MAAT,CAAgB,CAAhB,CACH,CACDpB,CAAQ,CAACC,QAAT,GACH,CAPsB,+BAQ1B,C","sourcesContent":["// import * as Str from 'core/str';\n\nexport const init = (courses) => {\n    var campaign_select = document.getElementById('campaign_select');\n    var dropdowns = document.querySelectorAll(\"[data-type='sections']\");\n\n    for (var dropdown of dropdowns) {\n        dropdown.disabled = true;\n    }\n\n    campaign_select.addEventListener('change', (e) => {\n        var course_id = e.target.value;\n\n        clearOptions();\n        for (var course of courses) {\n            if (course.id == 0) {\n                break;\n            }\n            if (course.id == course_id) {\n                for (var dropdown of dropdowns) {\n                    for (var section of course.sections) {\n                        var el = document.createElement('option');\n                        el.text =\n                            section.name !== null || section.name == ''\n                                ? section.name\n                                : 'Mission ' + section.no;\n                        el.value = section.id;\n                        dropdown.add(el);\n                    }\n                }\n            }\n        }\n        dropdowns.disabled = false;\n    });\n};\n\nconst clearOptions = () => {\n    var dropdowns = document.querySelectorAll(\"[data-type='sections']\");\n    for (var dropdown of dropdowns) {\n        while (dropdown.options.length > 0) {\n            dropdown.remove(0);\n        }\n        dropdown.disabled = false;\n    }\n};\n"],"file":"mission_map.min.js"}